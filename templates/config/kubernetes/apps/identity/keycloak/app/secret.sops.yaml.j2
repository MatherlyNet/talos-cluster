#% if keycloak_enabled | default(false) %#
---
#| Initial admin credentials - operator creates admin user from this secret #|
#| Secret name MUST be: {keycloak-cr-name}-initial-admin (operator convention) #|
apiVersion: v1
kind: Secret
metadata:
  name: keycloak-initial-admin
  namespace: identity
type: Opaque
stringData:
  username: "admin"
  password: "#{ keycloak_admin_password }#"
---
#| Database credentials for PostgreSQL connection #|
#| Used by both embedded PostgreSQL and CloudNativePG Cluster #|
apiVersion: v1
kind: Secret
metadata:
  name: keycloak-db-secret
  namespace: identity
type: Opaque
stringData:
  username: "#{ keycloak_db_user | default('keycloak') }#"
  password: "#{ keycloak_db_password }#"
#% endif %#
