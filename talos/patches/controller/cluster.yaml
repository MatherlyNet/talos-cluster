cluster:
  allowSchedulingOnControlPlanes: false
  apiServer:
    admissionControl:
      $$patch: delete
    extraArgs:
      # https://kubernetes.io/docs/tasks/extend-kubernetes/configure-aggregation-layer/
      enable-aggregator-routing: true
      # Enable ImageVolume feature gate for CNPG managed extensions
      feature-gates: ImageVolume=true
      # OIDC Authentication Configuration
      # REF: docs/research/kubernetes-api-server-oidc-authentication-jan-2026.md
      oidc-issuer-url: "https://sso.matherly.net/realms/matherlynet"
      oidc-client-id: "kubernetes"
      oidc-username-claim: "email"
      oidc-username-prefix: "oidc:"
      oidc-groups-claim: "groups"
      oidc-groups-prefix: "oidc:"
      oidc-signing-algs: "RS256"
  controllerManager:
    extraArgs:
      bind-address: 0.0.0.0
  coreDNS:
    disabled: true
  etcd:
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.20.0/22
  proxy:
    disabled: true
  scheduler:
    extraArgs:
      bind-address: 0.0.0.0
