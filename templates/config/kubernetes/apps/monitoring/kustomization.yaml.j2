#% if monitoring_enabled | default(false) %#
---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: monitoring

components:
  - ../../components/sops

resources:
  - ./namespace.yaml
#% if monitoring_stack | default('victoriametrics') == 'victoriametrics' %#
  - ./victoria-metrics/ks.yaml
#% elif monitoring_stack == 'prometheus' %#
  - ./kube-prometheus-stack/ks.yaml
#% endif %#
#% if loki_enabled | default(false) %#
  - ./loki/ks.yaml
  - ./alloy/ks.yaml
#% endif %#
#% if tracing_enabled | default(false) %#
  - ./tempo/ks.yaml
#% endif %#
#% endif %#
