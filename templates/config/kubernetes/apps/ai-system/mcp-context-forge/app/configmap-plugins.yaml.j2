#% if mcp_context_forge_enabled | default(false) %#
#% if mcp_context_forge_plugins_enabled | default(true) %#
---
#| ============================================================================= #|
#| MCP CONTEXT FORGE PLUGINS CONFIGMAP                                           #|
#| Configuration file for the plugin framework                                   #|
#| REF: https://ibm.github.io/mcp-context-forge/using/plugins/                   #|
#| ============================================================================= #|
apiVersion: v1
kind: ConfigMap
metadata:
  name: mcp-context-forge-plugins
  namespace: ai-system
  labels:
    app.kubernetes.io/name: mcp-context-forge
    app.kubernetes.io/component: plugins
data:
  config.yaml: |
    #| ========================================================================= #|
    #| Plugin Configuration                                                      #|
    #| Add plugin definitions here when integrating MCP server plugins           #|
    #| ========================================================================= #|
    plugins: []

    #| ========================================================================= #|
    #| Global Plugin Settings                                                    #|
    #| ========================================================================= #|
    plugin_settings:
      #| Enable parallel execution for plugins with the same priority #|
      parallel_execution_within_band: false

      #| Per-plugin timeout in seconds #|
      plugin_timeout: #{ mcp_context_forge_plugin_timeout | default(30) }#

      #| Stop processing on plugin failures #|
      fail_on_plugin_error: #{ mcp_context_forge_plugin_fail_on_error | default(false) | lower }#

      #| Health check frequency in seconds #|
      plugin_health_check_interval: 60
#% endif %#
#% endif %#
