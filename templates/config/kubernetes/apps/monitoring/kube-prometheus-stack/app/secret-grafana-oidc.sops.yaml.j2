#% if monitoring_enabled | default(false) and monitoring_stack == 'prometheus' and grafana_oidc_enabled | default(false) %#
---
#| =========================================================================== #|
#| Grafana OIDC client secret for native OAuth authentication                  #|
#| Referenced by HelmRelease via grafana.envFromSecret                         #|
#| REF: docs/research/grafana-sso-authentication-integration-jan-2026.md       #|
#| =========================================================================== #|
apiVersion: v1
kind: Secret
metadata:
  name: grafana-oidc-secret
  namespace: #{ observability_namespace | default('monitoring') }#
type: Opaque
stringData:
  #| Client secret shared with Keycloak grafana client #|
  GF_AUTH_GENERIC_OAUTH_CLIENT_SECRET: "#{ grafana_oidc_client_secret }#"
#% endif %#
