{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/MatherlyNet/talos-cluster/cluster.schema.json",
  "title": "Cluster Configuration",
  "description": "Configuration schema for matherlynet-talos-cluster GitOps template",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "node_cidr": {
      "type": "string",
      "format": "ipv4-cidr",
      "pattern": "^(\\d{1,3}\\.){3}\\d{1,3}/\\d{1,2}$"
    },
    "node_dns_servers": {
      "type": "array",
      "items": {
        "type": "string",
        "format": "ipv4"
      }
    },
    "node_ntp_servers": {
      "type": "array",
      "items": {
        "type": "string",
        "format": "ipv4"
      }
    },
    "node_default_gateway": {
      "type": "string",
      "format": "ipv4",
      "pattern": "^(\\d{1,3}\\.){3}\\d{1,3}$"
    },
    "node_vlan_tag": {
      "type": "string",
      "minLength": 1
    },
    "proxmox_vlan_mode": {
      "default": false,
      "type": "boolean",
      "description": "When true, Proxmox handles VLAN tagging (access port mode) and Talos sees untagged traffic When false (default), Talos creates VLAN sub-interfaces (trunk port / bare-metal mode)"
    },
    "cluster_pod_cidr": {
      "default": "10.42.0.0/16",
      "type": "string",
      "format": "ipv4-cidr",
      "pattern": "^(\\d{1,3}\\.){3}\\d{1,3}/\\d{1,2}$"
    },
    "cluster_svc_cidr": {
      "default": "10.43.0.0/16",
      "type": "string",
      "format": "ipv4-cidr",
      "pattern": "^(\\d{1,3}\\.){3}\\d{1,3}/\\d{1,2}$"
    },
    "cluster_api_addr": {
      "type": "string",
      "format": "ipv4",
      "pattern": "^(\\d{1,3}\\.){3}\\d{1,3}$"
    },
    "cluster_api_tls_sans": {
      "type": "array",
      "items": {
        "type": "string",
        "format": "hostname"
      }
    },
    "cluster_gateway_addr": {
      "type": "string",
      "format": "ipv4",
      "pattern": "^(\\d{1,3}\\.){3}\\d{1,3}$"
    },
    "cluster_dns_gateway_addr": {
      "type": "string",
      "format": "ipv4",
      "pattern": "^(\\d{1,3}\\.){3}\\d{1,3}$",
      "description": "cluster_dns_gateway_addr is only required when NOT using UniFi DNS integration When unifi_host and unifi_api_key are set, k8s-gateway is replaced by external-dns-unifi"
    },
    "repository_name": {
      "type": "string"
    },
    "repository_branch": {
      "type": "string",
      "minLength": 1
    },
    "repository_visibility": {
      "default": "public",
      "type": "string"
    },
    "cloudflare_domain": {
      "type": "string",
      "format": "hostname"
    },
    "cloudflare_token": {
      "type": "string"
    },
    "cloudflare_gateway_addr": {
      "type": "string",
      "format": "ipv4",
      "pattern": "^(\\d{1,3}\\.){3}\\d{1,3}$",
      "description": "NOTE: Cannot constrain against optional cluster_dns_gateway_addr - that constraint is on line 20 instead"
    },
    "cilium_loadbalancer_mode": {
      "default": "dsr",
      "type": "string",
      "description": "Cilium LoadBalancer configuration"
    },
    "cilium_bgp_router_addr": {
      "type": "string",
      "format": "ipv4",
      "pattern": "^(\\d{1,3}\\.){3}\\d{1,3}$",
      "description": "Cilium BGP Configuration - Optional for multi-VLAN environments REF: https://docs.cilium.io/en/stable/network/bgp-control-plane/bgp-control-plane-v2/"
    },
    "cilium_bgp_router_asn": {
      "type": "string",
      "pattern": "^[0-9]+$"
    },
    "cilium_bgp_node_asn": {
      "type": "string",
      "pattern": "^[0-9]+$"
    },
    "cilium_lb_pool_cidr": {
      "type": "string",
      "format": "ipv4-cidr",
      "pattern": "^(\\d{1,3}\\.){3}\\d{1,3}/\\d{1,2}$"
    },
    "cilium_bgp_hold_time": {
      "default": 30,
      "type": "integer",
      "minimum": 3,
      "maximum": 300
    },
    "cilium_bgp_keepalive_time": {
      "default": 10,
      "type": "integer",
      "minimum": 1,
      "maximum": 100
    },
    "cilium_bgp_graceful_restart": {
      "default": false,
      "type": "boolean"
    },
    "cilium_bgp_graceful_restart_time": {
      "default": 120,
      "type": "integer",
      "minimum": 30,
      "maximum": 600
    },
    "cilium_bgp_ecmp_max_paths": {
      "default": 3,
      "type": "integer",
      "minimum": 1,
      "maximum": 16
    },
    "cilium_bgp_password": {
      "type": "string",
      "minLength": 1
    },
    "unifi_host": {
      "type": "string",
      "pattern": "^https?://",
      "description": "UniFi DNS Integration - Optional for internal DNS via external-dns webhook Requires UniFi Network v9.0.0+ for API key authentication (current stable: 9.5.21)"
    },
    "unifi_api_key": {
      "type": "string",
      "minLength": 1
    },
    "unifi_site": {
      "default": "default",
      "type": "string",
      "minLength": 1
    },
    "unifi_external_controller": {
      "default": false,
      "type": "boolean"
    },
    "talos_version": {
      "default": "1.12.0",
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$",
      "description": "Talos Upgrade Controller (tuppr) - Automated OS/K8s upgrades"
    },
    "kubernetes_version": {
      "default": "1.35.0",
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
    },
    "backup_s3_endpoint": {
      "type": "string",
      "pattern": "^https?://",
      "description": "Talos Backup - Automated etcd snapshots with S3 storage"
    },
    "backup_s3_bucket": {
      "type": "string",
      "minLength": 1
    },
    "backup_s3_access_key": {
      "type": "string",
      "minLength": 1
    },
    "backup_s3_secret_key": {
      "type": "string",
      "minLength": 1
    },
    "backup_s3_region": {
      "default": "us-east-1",
      "type": "string",
      "minLength": 1
    },
    "backup_age_public_key": {
      "type": "string",
      "pattern": "^age1"
    },
    "proxmox_csi_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Proxmox CSI Configuration - Optional for persistent storage Requires Proxmox API token with storage permissions"
    },
    "proxmox_endpoint": {
      "type": "string",
      "pattern": "^https?://"
    },
    "proxmox_csi_token_id": {
      "type": "string",
      "pattern": "^.+@.+!.+$"
    },
    "proxmox_csi_token_secret": {
      "type": "string",
      "minLength": 1
    },
    "proxmox_csi_storage": {
      "type": "string",
      "minLength": 1
    },
    "proxmox_region": {
      "default": "pve",
      "type": "string",
      "minLength": 1
    },
    "proxmox_ccm_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Proxmox CCM Configuration - Optional for node labeling/lifecycle Use Proxmox CCM instead of Talos CCM when running on Proxmox infrastructure NOTE: Talos CCM and Proxmox CCM are mutually exclusive"
    },
    "proxmox_ccm_token_id": {
      "type": "string",
      "pattern": "^.+@.+!.+$"
    },
    "proxmox_ccm_token_secret": {
      "type": "string",
      "minLength": 1
    },
    "proxmox_api_url": {
      "type": "string",
      "pattern": "^https?://",
      "description": "Infrastructure (OpenTofu/Proxmox) - Optional for VM deployments"
    },
    "proxmox_node": {
      "type": "string",
      "minLength": 1
    },
    "proxmox_iso_storage": {
      "default": "local",
      "type": "string",
      "minLength": 1
    },
    "proxmox_disk_storage": {
      "default": "local-lvm",
      "type": "string",
      "minLength": 1
    },
    "proxmox_vm_defaults": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "cores": {
          "default": 4,
          "type": "integer",
          "minimum": 1,
          "maximum": 64
        },
        "sockets": {
          "default": 1,
          "type": "integer",
          "minimum": 1,
          "maximum": 4
        },
        "memory": {
          "default": 8192,
          "type": "integer",
          "minimum": 1024,
          "maximum": 262144
        },
        "disk_size": {
          "default": 128,
          "type": "integer",
          "minimum": 32,
          "maximum": 4096
        }
      }
    },
    "proxmox_vm_controller_defaults": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "cores": {
          "default": 4,
          "type": "integer",
          "minimum": 1,
          "maximum": 64
        },
        "sockets": {
          "default": 1,
          "type": "integer",
          "minimum": 1,
          "maximum": 4
        },
        "memory": {
          "default": 8192,
          "type": "integer",
          "minimum": 1024,
          "maximum": 262144
        },
        "disk_size": {
          "default": 64,
          "type": "integer",
          "minimum": 32,
          "maximum": 4096
        }
      },
      "description": "Controller node VM defaults (optimized for etcd and control plane) Fallback chain: per-node -> controller-defaults -> global-defaults"
    },
    "proxmox_vm_worker_defaults": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "cores": {
          "default": 8,
          "type": "integer",
          "minimum": 1,
          "maximum": 64
        },
        "sockets": {
          "default": 1,
          "type": "integer",
          "minimum": 1,
          "maximum": 4
        },
        "memory": {
          "default": 16384,
          "type": "integer",
          "minimum": 1024,
          "maximum": 262144
        },
        "disk_size": {
          "default": 256,
          "type": "integer",
          "minimum": 32,
          "maximum": 4096
        }
      },
      "description": "Worker node VM defaults (optimized for running workloads) Fallback chain: per-node -> worker-defaults -> global-defaults"
    },
    "proxmox_vm_advanced": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "bios": {
          "default": "ovmf",
          "type": "string"
        },
        "machine": {
          "default": "q35",
          "type": "string"
        },
        "cpu_type": {
          "default": "host",
          "type": "string",
          "minLength": 1
        },
        "scsi_hw": {
          "default": "virtio-scsi-pci",
          "type": "string"
        },
        "balloon": {
          "default": 0,
          "type": "integer",
          "minimum": 0
        },
        "numa": {
          "default": true,
          "type": "boolean"
        },
        "qemu_agent": {
          "default": true,
          "type": "boolean"
        },
        "net_queues": {
          "default": 4,
          "type": "integer",
          "minimum": 1,
          "maximum": 16
        },
        "disk_discard": {
          "default": true,
          "type": "boolean"
        },
        "disk_ssd": {
          "default": true,
          "type": "boolean"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "network_bridge": {
          "default": "vmbr0",
          "type": "string",
          "minLength": 1,
          "description": "Network configuration"
        },
        "ostype": {
          "default": "l26",
          "type": "string",
          "minLength": 1,
          "description": "Guest OS configuration"
        },
        "disk_backup": {
          "default": false,
          "type": "boolean",
          "description": "Storage flags (Talos-optimized defaults)"
        },
        "disk_replicate": {
          "default": false,
          "type": "boolean"
        }
      }
    },
    "proxmox_api_token_id": {
      "type": "string",
      "pattern": "^.+@.+!.+$",
      "description": "Infrastructure API Token - for OpenTofu VM provisioning NOTE: Separate from proxmox_csi_token and proxmox_ccm_token for least-privilege"
    },
    "proxmox_api_token_secret": {
      "type": "string",
      "minLength": 1
    },
    "cf_account_id": {
      "type": "string",
      "minLength": 1,
      "description": "Cloudflare Account (for R2 state backend) Dashboard \u2192 Overview \u2192 Account ID (right sidebar)"
    },
    "tfstate_username": {
      "default": "terraform",
      "type": "string",
      "minLength": 1,
      "description": "OpenTofu R2 State Backend Credentials Must match secrets configured in your tfstate-worker deployment"
    },
    "tfstate_password": {
      "type": "string",
      "minLength": 1
    },
    "monitoring_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Observability - Monitoring Stack (kube-prometheus-stack: Prometheus + Grafana + AlertManager) Full-stack observability with metrics, logs, and distributed tracing"
    },
    "monitoring_stack": {
      "default": "prometheus",
      "type": "string",
      "pattern": "^prometheus$"
    },
    "hubble_enabled": {
      "default": false,
      "type": "boolean"
    },
    "hubble_ui_enabled": {
      "default": false,
      "type": "boolean"
    },
    "grafana_subdomain": {
      "default": "grafana",
      "type": "string",
      "minLength": 1
    },
    "grafana_admin_user": {
      "default": "admin",
      "type": "string",
      "minLength": 1
    },
    "grafana_admin_password": {
      "type": "string",
      "pattern": ".{8,}"
    },
    "metrics_retention": {
      "default": "7d",
      "type": "string",
      "pattern": "^[0-9]+[dhw]$"
    },
    "metrics_storage_size": {
      "default": "50Gi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "storage_class": {
      "default": "local-path",
      "type": "string",
      "minLength": 1
    },
    "monitoring_alerts_enabled": {
      "default": true,
      "type": "boolean",
      "description": "Observability - Infrastructure Alerts (PrometheusRule)"
    },
    "node_memory_threshold": {
      "default": 90,
      "type": "integer",
      "minimum": 50,
      "maximum": 99
    },
    "node_cpu_threshold": {
      "default": 90,
      "type": "integer",
      "minimum": 50,
      "maximum": 99
    },
    "loki_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Observability - Log Aggregation (Loki + Alloy)"
    },
    "logs_retention": {
      "default": "7d",
      "type": "string",
      "pattern": "^[0-9]+[dhw]$"
    },
    "logs_storage_size": {
      "default": "50Gi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "tracing_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Observability - Distributed Tracing (Tempo)"
    },
    "tracing_sample_rate": {
      "default": 10,
      "type": "integer",
      "minimum": 1,
      "maximum": 100
    },
    "trace_retention": {
      "default": "72h",
      "type": "string",
      "pattern": "^[0-9]+[hd]$"
    },
    "trace_storage_size": {
      "default": "10Gi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "cluster_name": {
      "default": "matherlynet",
      "type": "string",
      "minLength": 1
    },
    "observability_namespace": {
      "default": "monitoring",
      "type": "string",
      "minLength": 1
    },
    "environment": {
      "default": "production",
      "type": "string"
    },
    "oidc_provider_name": {
      "default": "keycloak",
      "type": "string",
      "minLength": 1,
      "description": "OIDC/JWT Configuration - Optional for API authentication via SecurityPolicy REF: https://gateway.envoyproxy.io/latest/concepts/gateway_api_extensions/security-policy/"
    },
    "oidc_issuer_url": {
      "type": "string",
      "pattern": "^https?://"
    },
    "oidc_jwks_uri": {
      "type": "string",
      "pattern": "^https?://"
    },
    "oidc_additional_claims": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1
          },
          "header": {
            "type": "string",
            "pattern": "^X-"
          }
        }
      }
    },
    "oidc_sso_enabled": {
      "default": false,
      "type": "boolean",
      "description": "OIDC Web SSO Configuration - Session-based authentication for web apps Distinct from JWT SecurityPolicy - this enables browser-based SSO with cookie sessions REF: https://gateway.envoyproxy.io/docs/tasks/security/oidc/ REF: docs/guides/native-oidc-securitypolicy-implementation.md"
    },
    "oidc_client_id": {
      "type": "string"
    },
    "oidc_client_secret": {
      "type": "string"
    },
    "oidc_redirect_url": {
      "type": "string",
      "pattern": "^https?://"
    },
    "oidc_cookie_domain": {
      "type": "string"
    },
    "oidc_cookie_samesite": {
      "default": "Lax",
      "type": "string"
    },
    "oidc_refresh_token": {
      "default": true,
      "type": "boolean"
    },
    "oidc_logout_path": {
      "default": "/logout",
      "type": "string",
      "pattern": "^/"
    },
    "oidc_scopes": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "volsync_enabled": {
      "default": false,
      "type": "boolean",
      "description": "VolSync - PVC Backup with restic to S3-compatible storage REF: https://volsync.readthedocs.io/en/stable/"
    },
    "volsync_s3_endpoint": {
      "type": "string",
      "pattern": "^https?://"
    },
    "volsync_s3_bucket": {
      "type": "string",
      "minLength": 1
    },
    "volsync_restic_password": {
      "type": "string",
      "minLength": 1
    },
    "volsync_schedule": {
      "default": "0 */6 * * *",
      "type": "string",
      "pattern": "^[0-9*,/-]+ [0-9*,/-]+ [0-9*,/-]+ [0-9*,/-]+ [0-9*,/-]+$"
    },
    "volsync_copy_method": {
      "default": "Clone",
      "type": "string"
    },
    "volsync_retain_daily": {
      "default": 7,
      "type": "integer",
      "minimum": 1,
      "maximum": 365
    },
    "volsync_retain_weekly": {
      "default": 4,
      "type": "integer",
      "minimum": 1,
      "maximum": 52
    },
    "volsync_retain_monthly": {
      "default": 3,
      "type": "integer",
      "minimum": 1,
      "maximum": 24
    },
    "external_secrets_enabled": {
      "default": false,
      "type": "boolean",
      "description": "External Secrets Operator - Sync secrets from external providers REF: https://external-secrets.io/"
    },
    "external_secrets_provider": {
      "default": "1password",
      "type": "string"
    },
    "onepassword_connect_host": {
      "type": "string",
      "pattern": "^https?://"
    },
    "network_policies_enabled": {
      "default": false,
      "type": "boolean",
      "description": "CiliumNetworkPolicies - Zero-Trust Network Security REF: https://docs.cilium.io/en/stable/security/policy/ REF: docs/research/cilium-network-policies-jan-2026.md"
    },
    "network_policies_mode": {
      "default": "audit",
      "type": "string"
    },
    "rustfs_enabled": {
      "default": false,
      "type": "boolean",
      "description": "RustFS Shared Object Storage - S3-compatible storage for cluster services REF: https://rustfs.com/ REF: docs/research/rustfs-shared-storage-loki-simplescalable-jan-2026.md WARNING: RustFS is currently alpha software (v1.0.0-alpha.78) - test before production NOTE: RustFS does NOT support 'mc admin' commands for user/policy management. Loki access keys must be created manually via RustFS Console UI. Tempo uses local filesystem storage, not RustFS/S3."
    },
    "rustfs_subdomain": {
      "default": "rustfs",
      "type": "string",
      "minLength": 1
    },
    "rustfs_replicas": {
      "default": 1,
      "type": "integer",
      "minimum": 1,
      "maximum": 16
    },
    "rustfs_data_volume_size": {
      "default": "20Gi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "rustfs_log_volume_size": {
      "default": "1Gi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "rustfs_storage_class": {
      "type": "string",
      "minLength": 1
    },
    "rustfs_access_key": {
      "default": "rustfsadmin",
      "type": "string",
      "minLength": 1
    },
    "rustfs_secret_key": {
      "type": "string",
      "minLength": 1
    },
    "rustfs_buffer_profile": {
      "default": "DataAnalytics",
      "type": "string"
    },
    "loki_s3_access_key": {
      "type": "string",
      "minLength": 1,
      "description": "RustFS Service Account Credentials for Loki (when rustfs_enabled && loki_enabled) Must be created manually via RustFS Console UI (Identity -> Users -> Create Access Key)"
    },
    "loki_s3_secret_key": {
      "type": "string",
      "minLength": 1
    },
    "cnpg_enabled": {
      "default": false,
      "type": "boolean",
      "description": "CloudNativePG Operator - Production PostgreSQL for Kubernetes REF: https://cloudnative-pg.io/ REF: docs/guides/cnpg-implementation.md Provides automated HA, backups, and monitoring for PostgreSQL clusters Shared infrastructure dependency for Keycloak and other database-backed apps"
    },
    "cnpg_postgres_image": {
      "default": "ghcr.io/cloudnative-pg/postgresql:18.1-standard-trixie",
      "type": "string",
      "pattern": "^ghcr\\.io/cloudnative-pg/"
    },
    "cnpg_storage_class": {
      "type": "string",
      "minLength": 1
    },
    "cnpg_priority_class": {
      "default": "system-cluster-critical",
      "type": "string",
      "minLength": 1
    },
    "cnpg_control_plane_only": {
      "default": true,
      "type": "boolean"
    },
    "cnpg_backup_enabled": {
      "default": false,
      "type": "boolean",
      "description": "CNPG Backups to RustFS S3 (requires rustfs_enabled: true) Credentials must be created manually via RustFS Console UI"
    },
    "cnpg_s3_access_key": {
      "type": "string",
      "minLength": 1
    },
    "cnpg_s3_secret_key": {
      "type": "string",
      "minLength": 1
    },
    "cnpg_pgvector_enabled": {
      "default": false,
      "type": "boolean",
      "description": "pgvector Extension - Vector similarity search for AI/ML workloads REF: https://github.com/pgvector/pgvector Mounted via ImageVolume (Kubernetes 1.35+, PostgreSQL 18+)"
    },
    "cnpg_pgvector_image": {
      "default": "ghcr.io/cloudnative-pg/pgvector:0.8.1-18-trixie",
      "type": "string",
      "pattern": "^ghcr\\.io/cloudnative-pg/"
    },
    "cnpg_pgvector_version": {
      "default": "0.8.1",
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
    },
    "cnpg_barman_plugin_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Barman Cloud Plugin - External plugin for PostgreSQL backups to S3 REF: https://cloudnative-pg.io/plugin-barman-cloud/docs/ Replaces deprecated in-tree barmanObjectStore (removal in CNPG 1.29) Provides barman-cloud binaries via sidecar container (no -system- images needed)"
    },
    "cnpg_barman_plugin_version": {
      "default": "0.10.0",
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
    },
    "cnpg_barman_plugin_log_level": {
      "default": "info",
      "type": "string"
    },
    "keycloak_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Keycloak OIDC Provider - Identity and Access Management REF: https://www.keycloak.org/operator/installation REF: docs/guides/keycloak-implementation.md Provides OIDC/OAuth2 authentication for JWT SecurityPolicy and web SSO"
    },
    "keycloak_subdomain": {
      "default": "auth",
      "type": "string",
      "minLength": 1
    },
    "keycloak_realm": {
      "default": "matherlynet",
      "type": "string",
      "minLength": 1
    },
    "keycloak_admin_password": {
      "type": "string",
      "pattern": ".{8,}"
    },
    "keycloak_db_mode": {
      "default": "embedded",
      "type": "string"
    },
    "keycloak_db_user": {
      "default": "keycloak",
      "type": "string",
      "minLength": 1
    },
    "keycloak_db_password": {
      "type": "string",
      "minLength": 1
    },
    "keycloak_db_name": {
      "default": "keycloak",
      "type": "string",
      "minLength": 1
    },
    "keycloak_storage_size": {
      "default": "5Gi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "keycloak_replicas": {
      "default": 1,
      "type": "integer",
      "minimum": 1,
      "maximum": 10
    },
    "keycloak_db_instances": {
      "default": 1,
      "type": "integer",
      "minimum": 1,
      "maximum": 5
    },
    "keycloak_operator_version": {
      "default": "26.5.0",
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
    },
    "keycloak_s3_access_key": {
      "type": "string",
      "minLength": 1,
      "description": "Keycloak PostgreSQL Backup - S3 credentials for RustFS Works with both embedded (pg_dump CronJob) and cnpg (barmanObjectStore) modes Requires rustfs_enabled: true and credentials created via RustFS Console"
    },
    "keycloak_s3_secret_key": {
      "type": "string",
      "minLength": 1
    },
    "keycloak_backup_schedule": {
      "default": "0 2 * * *",
      "type": "string",
      "pattern": "^[0-9*,/-]+ [0-9*,/-]+ [0-9*,/-]+ [0-9*,/-]+ [0-9*,/-]+$",
      "description": "Backup schedule for embedded mode pg_dump (cron format) CNPG mode uses continuous WAL archiving instead"
    },
    "keycloak_backup_retention_days": {
      "default": 7,
      "type": "integer",
      "minimum": 1,
      "maximum": 365
    },
    "keycloak_tracing_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Keycloak OpenTelemetry Tracing (requires tracing_enabled: true) REF: https://www.keycloak.org/observability/tracing"
    },
    "keycloak_tracing_sample_rate": {
      "default": "0.1",
      "type": "string",
      "pattern": "^[01](\\.\\d+)?$"
    },
    "keycloak_config_cli_version": {
      "default": "6.4.0-26.1.0",
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+-[0-9]+\\.[0-9]+\\.[0-9]+$",
      "description": "Keycloak Config-CLI - GitOps realm management via keycloak-config-cli Replaces KeycloakRealmImport CRD which only supports one-time imports REF: https://github.com/adorsys/keycloak-config-cli REF: docs/research/keycloak-configuration-as-code-gitops-jan-2026.md"
    },
    "keycloak_realm_roles": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string",
            "pattern": "^[a-z][a-z0-9-]*$"
          },
          "description": {
            "type": "string",
            "minLength": 1
          }
        }
      },
      "description": "Keycloak Realm Roles - RBAC role hierarchy following Kubernetes patterns Roles are created during realm import and used by IdP mappers/JWT claims REF: https://kubernetes.io/docs/concepts/security/rbac-good-practices/"
    },
    "keycloak_monitoring_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Keycloak Grafana Monitoring - ServiceMonitor + Dashboards When enabled (and monitoring_enabled: true), deploys Keycloak metrics and dashboards"
    },
    "rustfs_monitoring_enabled": {
      "default": false,
      "type": "boolean",
      "description": "RustFS Grafana Monitoring - ServiceMonitor + Dashboard When enabled (and monitoring_enabled: true), deploys RustFS S3 storage dashboard"
    },
    "loki_monitoring_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Loki Grafana Monitoring - Stack Monitoring Dashboard When enabled (and monitoring_enabled: true), deploys Loki stack monitoring dashboard"
    },
    "grafana_oidc_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Grafana OIDC Authentication - Native OAuth for Grafana RBAC REF: docs/research/grafana-sso-authentication-integration-jan-2026.md Enables Grafana's native OAuth with Keycloak for role-based access control Requires: monitoring_enabled, keycloak_enabled"
    },
    "grafana_oidc_client_secret": {
      "type": "string",
      "minLength": 1
    },
    "google_idp_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Social Identity Providers - OAuth/OIDC Federation with Keycloak REF: docs/research/keycloak-social-identity-providers-integration-jan-2026.md"
    },
    "google_client_id": {
      "type": "string",
      "minLength": 1
    },
    "google_client_secret": {
      "type": "string",
      "minLength": 1
    },
    "github_idp_enabled": {
      "default": false,
      "type": "boolean"
    },
    "github_client_id": {
      "type": "string",
      "minLength": 1
    },
    "github_client_secret": {
      "type": "string",
      "minLength": 1
    },
    "microsoft_idp_enabled": {
      "default": false,
      "type": "boolean"
    },
    "microsoft_client_id": {
      "type": "string",
      "minLength": 1
    },
    "microsoft_client_secret": {
      "type": "string",
      "minLength": 1
    },
    "microsoft_tenant_id": {
      "default": "common",
      "type": "string",
      "minLength": 1
    },
    "google_default_role": {
      "type": "string",
      "minLength": 1,
      "description": "Identity Provider Role Mappers - Automatic role assignment based on IdP attributes REF: docs/research/keycloak-social-identity-providers-integration-jan-2026.md#phase-3-rolegroup-mappers Google role mappers"
    },
    "google_domain_role_mapping": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "domain": {
          "type": "string",
          "minLength": 1
        },
        "role": {
          "type": "string",
          "minLength": 1
        }
      }
    },
    "github_default_role": {
      "type": "string",
      "minLength": 1,
      "description": "GitHub role mappers"
    },
    "github_org_role_mapping": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "org": {
          "type": "string",
          "minLength": 1
        },
        "role": {
          "type": "string",
          "minLength": 1
        }
      }
    },
    "microsoft_default_role": {
      "type": "string",
      "minLength": 1,
      "description": "Microsoft role mappers"
    },
    "microsoft_group_role_mappings": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "group_id": {
            "type": "string",
            "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$"
          },
          "role": {
            "type": "string",
            "minLength": 1
          }
        }
      }
    },
    "litellm_enabled": {
      "default": false,
      "type": "boolean",
      "description": "LiteLLM Proxy Gateway - Unified AI Model Gateway REF: https://docs.litellm.ai/docs/proxy/quick_start REF: docs/research/litellm-proxy-gateway-integration-jan-2026.md Provides unified API for Azure OpenAI, Anthropic, Cohere models with caching and observability"
    },
    "litellm_subdomain": {
      "default": "litellm",
      "type": "string",
      "minLength": 1
    },
    "litellm_replicas": {
      "default": 1,
      "type": "integer",
      "minimum": 1,
      "maximum": 10
    },
    "litellm_master_key": {
      "type": "string",
      "pattern": "^sk-"
    },
    "litellm_salt_key": {
      "type": "string",
      "pattern": ".{32,}"
    },
    "litellm_db_user": {
      "default": "litellm",
      "type": "string",
      "minLength": 1,
      "description": "LiteLLM PostgreSQL Database (CloudNativePG) Requires cnpg_enabled: true"
    },
    "litellm_db_password": {
      "type": "string",
      "minLength": 1
    },
    "litellm_db_name": {
      "default": "litellm",
      "type": "string",
      "minLength": 1
    },
    "litellm_db_instances": {
      "default": 1,
      "type": "integer",
      "minimum": 1,
      "maximum": 5
    },
    "litellm_storage_size": {
      "default": "10Gi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "litellm_oidc_enabled": {
      "default": false,
      "type": "boolean",
      "description": "LiteLLM OIDC Authentication (requires keycloak_enabled: true) Integrates with Keycloak for SSO admin UI access"
    },
    "litellm_oidc_client_secret": {
      "type": "string",
      "minLength": 1
    },
    "litellm_backup_enabled": {
      "default": false,
      "type": "boolean",
      "description": "LiteLLM PostgreSQL Backups (requires rustfs_enabled: true) Credentials must be created via RustFS Console UI"
    },
    "litellm_s3_access_key": {
      "type": "string",
      "minLength": 1
    },
    "litellm_s3_secret_key": {
      "type": "string",
      "minLength": 1
    },
    "litellm_monitoring_enabled": {
      "default": false,
      "type": "boolean",
      "description": "LiteLLM Observability (requires monitoring_enabled and/or tracing_enabled)"
    },
    "litellm_tracing_enabled": {
      "default": false,
      "type": "boolean"
    },
    "litellm_langfuse_enabled": {
      "default": false,
      "type": "boolean",
      "description": "LiteLLM Langfuse Observability (external LLM analytics) REF: https://docs.litellm.ai/docs/observability/langfuse_integration"
    },
    "litellm_langfuse_host": {
      "type": "string",
      "pattern": "^https?://",
      "description": "Langfuse host URL - auto-derived in plugin.py: - Self-hosted (langfuse_enabled: true): http://langfuse-web.ai-system.svc.cluster.local:3000 - Langfuse Cloud: https://cloud.langfuse.com"
    },
    "litellm_langfuse_public_key": {
      "type": "string",
      "minLength": 1
    },
    "litellm_langfuse_secret_key": {
      "type": "string",
      "minLength": 1
    },
    "litellm_alerting_enabled": {
      "default": false,
      "type": "boolean",
      "description": "LiteLLM Alerting (Slack/Discord webhook notifications) REF: https://docs.litellm.ai/docs/proxy/alerting"
    },
    "litellm_slack_webhook_url": {
      "type": "string",
      "pattern": "^https://hooks\\.slack\\.com/"
    },
    "litellm_discord_webhook_url": {
      "type": "string",
      "pattern": "^https://discord\\.com/api/webhooks/"
    },
    "litellm_alerting_threshold": {
      "default": 300,
      "type": "integer",
      "minimum": 60,
      "maximum": 3600
    },
    "litellm_guardrails_enabled": {
      "default": false,
      "type": "boolean",
      "description": "LiteLLM Guardrails (content filtering, PII masking, prompt injection detection) REF: https://docs.litellm.ai/docs/proxy/guardrails/"
    },
    "litellm_presidio_enabled": {
      "default": false,
      "type": "boolean"
    },
    "litellm_prompt_injection_check": {
      "default": false,
      "type": "boolean"
    },
    "azure_openai_us_east_api_key": {
      "type": "string",
      "minLength": 1,
      "description": "Azure OpenAI US East Configuration Resource name is the Azure OpenAI resource name (e.g., \"my-openai-eastus\") API version defaults to latest stable preview"
    },
    "azure_openai_us_east_resource_name": {
      "type": "string",
      "minLength": 1
    },
    "azure_openai_us_east_api_version": {
      "default": "2025-01-01-preview",
      "type": "string",
      "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}(-preview)?$"
    },
    "azure_openai_us_east2_api_key": {
      "type": "string",
      "minLength": 1,
      "description": "Azure OpenAI US East2 Configuration (GPT-5 series, secondary region)"
    },
    "azure_openai_us_east2_resource_name": {
      "type": "string",
      "minLength": 1
    },
    "azure_openai_us_east2_api_version": {
      "default": "2025-04-01-preview",
      "type": "string",
      "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}(-preview)?$"
    },
    "azure_anthropic_api_key": {
      "type": "string",
      "minLength": 1,
      "description": "Azure AI Services API Keys and Endpoints (Anthropic, Cohere) These use Azure AI Services, not Azure OpenAI - full base URL required"
    },
    "azure_anthropic_api_base": {
      "type": "string",
      "pattern": "^https://"
    },
    "azure_cohere_embed_api_key": {
      "type": "string",
      "minLength": 1
    },
    "azure_cohere_embed_api_base": {
      "type": "string",
      "pattern": "^https://"
    },
    "azure_cohere_rerank_api_key": {
      "type": "string",
      "minLength": 1
    },
    "azure_cohere_rerank_api_base": {
      "type": "string",
      "pattern": "^https://"
    },
    "dragonfly_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Dragonfly Cache - Redis-compatible in-memory data store REF: https://www.dragonflydb.io/ REF: docs/research/dragonfly-redis-alternative-integration-jan-2026.md Provides Redis API compatibility with 25x performance improvement"
    },
    "dragonfly_version": {
      "default": "v1.36.0",
      "type": "string",
      "pattern": "^v[0-9]+\\.[0-9]+\\.[0-9]+$"
    },
    "dragonfly_operator_version": {
      "default": "1.3.1",
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
    },
    "dragonfly_replicas": {
      "default": 1,
      "type": "integer",
      "minimum": 1,
      "maximum": 10
    },
    "dragonfly_maxmemory": {
      "default": "512mb",
      "type": "string",
      "pattern": "^[0-9]+[kmgt]b$"
    },
    "dragonfly_threads": {
      "default": 2,
      "type": "integer",
      "minimum": 1,
      "maximum": 16
    },
    "dragonfly_password": {
      "type": "string",
      "minLength": 1
    },
    "dragonfly_control_plane_only": {
      "default": false,
      "type": "boolean"
    },
    "dragonfly_cpu_request": {
      "default": "100m",
      "type": "string",
      "pattern": "^[0-9]+m?$"
    },
    "dragonfly_memory_request": {
      "default": "256Mi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "dragonfly_memory_limit": {
      "default": "1Gi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "dragonfly_cache_mode": {
      "default": false,
      "type": "boolean"
    },
    "dragonfly_slowlog_threshold": {
      "default": 10000,
      "type": "integer",
      "minimum": 0
    },
    "dragonfly_slowlog_max_len": {
      "default": 128,
      "type": "integer",
      "minimum": 0,
      "maximum": 1000
    },
    "dragonfly_backup_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Dragonfly S3 Backups (requires rustfs_enabled: true) Credentials must be created via RustFS Console UI"
    },
    "dragonfly_s3_endpoint": {
      "default": "rustfs-svc.storage.svc.cluster.local:9000",
      "type": "string",
      "minLength": 1
    },
    "dragonfly_s3_access_key": {
      "type": "string",
      "minLength": 1
    },
    "dragonfly_s3_secret_key": {
      "type": "string",
      "minLength": 1
    },
    "dragonfly_snapshot_cron": {
      "default": "0 */6 * * *",
      "type": "string",
      "pattern": "^[0-9*,/-]+ [0-9*,/-]+ [0-9*,/-]+ [0-9*,/-]+ [0-9*,/-]+$"
    },
    "dragonfly_monitoring_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Dragonfly Monitoring (requires monitoring_enabled: true)"
    },
    "dragonfly_acl_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Dragonfly ACL - Multi-tenant access control Per-application passwords for secure namespace isolation"
    },
    "dragonfly_keycloak_password": {
      "type": "string",
      "minLength": 1
    },
    "dragonfly_appcache_password": {
      "type": "string",
      "minLength": 1
    },
    "dragonfly_litellm_password": {
      "type": "string",
      "minLength": 1
    },
    "dragonfly_langfuse_password": {
      "type": "string",
      "minLength": 1
    },
    "langfuse_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Langfuse LLM Observability Platform REF: https://langfuse.com/self-hosting REF: docs/research/langfuse-llm-observability-integration-jan-2026.md Provides LLM tracing, prompt management, evaluation, and cost analytics"
    },
    "langfuse_subdomain": {
      "default": "langfuse",
      "type": "string",
      "minLength": 1
    },
    "langfuse_nextauth_secret": {
      "type": "string",
      "pattern": ".{32,}",
      "description": "Langfuse Core Credentials (SOPS-encrypted) Generate with: openssl rand -base64 32 (nextauth_secret, salt) Generate with: openssl rand -hex 32 (encryption_key)"
    },
    "langfuse_salt": {
      "type": "string",
      "pattern": ".{32,}"
    },
    "langfuse_encryption_key": {
      "type": "string",
      "pattern": "^[a-f0-9]{64}$"
    },
    "langfuse_postgres_password": {
      "type": "string",
      "minLength": 1,
      "description": "Langfuse PostgreSQL Database (CloudNativePG) Requires cnpg_enabled: true"
    },
    "langfuse_postgres_instances": {
      "default": 1,
      "type": "integer",
      "minimum": 1,
      "maximum": 5
    },
    "langfuse_postgres_storage": {
      "default": "10Gi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "langfuse_clickhouse_password": {
      "type": "string",
      "minLength": 1,
      "description": "Langfuse ClickHouse (bundled analytics database)"
    },
    "langfuse_clickhouse_storage": {
      "default": "20Gi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "langfuse_clickhouse_replicas": {
      "default": 1,
      "type": "integer",
      "minimum": 1,
      "maximum": 5
    },
    "langfuse_clickhouse_cluster_enabled": {
      "default": false,
      "type": "boolean"
    },
    "langfuse_s3_access_key": {
      "type": "string",
      "minLength": 1,
      "description": "Langfuse S3 Storage (requires rustfs_enabled: true) Credentials must be created via RustFS Console UI Buckets needed: langfuse-events, langfuse-media, langfuse-exports"
    },
    "langfuse_s3_secret_key": {
      "type": "string",
      "minLength": 1
    },
    "langfuse_s3_concurrent_writes": {
      "type": "integer",
      "minimum": 1,
      "maximum": 500
    },
    "langfuse_s3_concurrent_reads": {
      "type": "integer",
      "minimum": 1,
      "maximum": 500
    },
    "langfuse_media_bucket": {
      "default": "langfuse-media",
      "type": "string",
      "minLength": 1,
      "description": "Langfuse S3 Buckets (optional bucket name overrides)"
    },
    "langfuse_export_bucket": {
      "default": "langfuse-exports",
      "type": "string",
      "minLength": 1
    },
    "langfuse_media_max_size": {
      "type": "integer",
      "minimum": 1,
      "maximum": 10000000000,
      "description": "Langfuse Media Upload Configuration"
    },
    "langfuse_media_download_url_expiry": {
      "type": "integer",
      "minimum": 60,
      "maximum": 86400
    },
    "langfuse_batch_export_enabled": {
      "default": true,
      "type": "boolean"
    },
    "langfuse_backup_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Langfuse PostgreSQL Backups (requires rustfs_enabled: true) Bucket needed: langfuse-postgres-backups"
    },
    "langfuse_backup_s3_access_key": {
      "type": "string",
      "minLength": 1
    },
    "langfuse_backup_s3_secret_key": {
      "type": "string",
      "minLength": 1
    },
    "langfuse_sso_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Langfuse SSO (requires keycloak_enabled: true) Integrates with Keycloak for OIDC authentication"
    },
    "langfuse_keycloak_client_secret": {
      "type": "string",
      "minLength": 1
    },
    "langfuse_monitoring_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Langfuse Observability (requires monitoring_enabled and/or tracing_enabled)"
    },
    "langfuse_tracing_enabled": {
      "default": false,
      "type": "boolean"
    },
    "langfuse_log_level": {
      "default": "info",
      "type": "string",
      "description": "Langfuse Resource Configuration"
    },
    "langfuse_log_format": {
      "default": "text",
      "type": "string"
    },
    "langfuse_trace_sampling_ratio": {
      "default": "0.1",
      "type": "string",
      "pattern": "^[01]?\\.[0-9]+$"
    },
    "langfuse_web_replicas": {
      "default": 1,
      "type": "integer",
      "minimum": 1,
      "maximum": 10
    },
    "langfuse_worker_replicas": {
      "default": 1,
      "type": "integer",
      "minimum": 1,
      "maximum": 10
    },
    "langfuse_chart_version": {
      "default": "*",
      "type": "string",
      "minLength": 1
    },
    "langfuse_cache_api_key_enabled": {
      "type": "boolean",
      "description": "Langfuse Caching Configuration (requires Redis/Dragonfly) REF: https://langfuse.com/self-hosting/configuration/caching"
    },
    "langfuse_cache_api_key_ttl": {
      "type": "integer",
      "minimum": 1,
      "maximum": 86400
    },
    "langfuse_cache_prompt_enabled": {
      "type": "boolean"
    },
    "langfuse_cache_prompt_ttl": {
      "type": "integer",
      "minimum": 1,
      "maximum": 86400
    },
    "langfuse_disable_password_auth": {
      "default": false,
      "type": "boolean",
      "description": "Langfuse Authentication Configuration (optional) REF: https://langfuse.com/self-hosting/security/authentication-and-sso"
    },
    "langfuse_sso_domain_enforcement": {
      "type": "string",
      "pattern": "^[a-z0-9.-]+(,[a-z0-9.-]+)*$"
    },
    "langfuse_smtp_url": {
      "type": "string",
      "pattern": "^smtp(s)?://",
      "description": "Langfuse SMTP/Email Configuration (optional)"
    },
    "langfuse_email_from": {
      "type": "string",
      "pattern": "^[^@]+@[^@]+$"
    },
    "langfuse_session_max_age": {
      "default": 2592000,
      "type": "integer",
      "minimum": 3600,
      "maximum": 31536000,
      "description": "Langfuse Session Configuration (optional)"
    },
    "langfuse_init_org_id": {
      "type": "string",
      "pattern": "^[a-z0-9][a-z0-9-]*[a-z0-9]$",
      "description": "Langfuse Headless Initialization (optional) Bootstrap initial admin account for GitOps/non-interactive deployments REF: https://langfuse.com/self-hosting/administration/headless-initialization NOTE: langfuse_init_org_id is REQUIRED when using headless initialization"
    },
    "langfuse_init_org_name": {
      "type": "string",
      "minLength": 1
    },
    "langfuse_init_user_email": {
      "type": "string",
      "pattern": "^[^@]+@[^@]+$"
    },
    "langfuse_init_user_password": {
      "type": "string",
      "pattern": ".{16,}"
    },
    "langfuse_init_user_name": {
      "default": "Admin",
      "type": "string",
      "minLength": 1
    },
    "langfuse_disable_signup": {
      "default": false,
      "type": "boolean"
    },
    "langfuse_init_project_id": {
      "type": "string",
      "pattern": "^[a-z0-9][a-z0-9-]*[a-z0-9]$",
      "description": "Langfuse Project Initialization (optional) Create initial project alongside organization for immediate API access REF: https://langfuse.com/self-hosting/administration/headless-initialization"
    },
    "langfuse_init_project_name": {
      "type": "string",
      "minLength": 1
    },
    "langfuse_init_project_retention": {
      "type": "integer",
      "minimum": 1,
      "maximum": 3650
    },
    "langfuse_init_project_public_key": {
      "type": "string",
      "pattern": "^lf_pk_[a-zA-Z0-9]+$"
    },
    "langfuse_init_project_secret_key": {
      "type": "string",
      "pattern": "^lf_sk_[a-zA-Z0-9]+$"
    },
    "langfuse_default_org_id": {
      "type": "string",
      "pattern": "^[a-z0-9][a-z0-9-]*[a-z0-9]$",
      "description": "Langfuse Auto-Provisioning (optional) Default roles for SSO users without existing accounts REF: https://langfuse.com/self-hosting/administration/automated-access-provisioning NOTE: If not specified, defaults to langfuse_init_org_id/langfuse_init_project_id"
    },
    "langfuse_default_org_role": {
      "default": "VIEWER",
      "type": "string"
    },
    "langfuse_default_project_id": {
      "type": "string",
      "pattern": "^[a-z0-9][a-z0-9-]*[a-z0-9]$"
    },
    "langfuse_default_project_role": {
      "type": "string",
      "enum": [
        "OWNER",
        "ADMIN",
        "MEMBER",
        "VIEWER"
      ]
    },
    "langfuse_scim_sync_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Langfuse SCIM Role Sync - Keycloak to Langfuse role synchronization REF: docs/research/langfuse-scim-role-sync-implementation-jan-2026.md NOTE: SCIM API requires Organization API Keys which require Langfuse Enterprise license Periodically syncs Keycloak realm roles to Langfuse organization roles via SCIM API Requires: langfuse_enabled: true, keycloak_enabled: true, Langfuse Enterprise license"
    },
    "langfuse_scim_sync_schedule": {
      "default": "*/5 * * * *",
      "type": "string",
      "pattern": "^[0-9*,/-]+ [0-9*,/-]+ [0-9*,/-]+ [0-9*,/-]+ [0-9*,/-]+$"
    },
    "langfuse_scim_public_key": {
      "type": "string",
      "minLength": 1
    },
    "langfuse_scim_secret_key": {
      "type": "string",
      "minLength": 1
    },
    "langfuse_sync_keycloak_client_id": {
      "default": "langfuse-sync",
      "type": "string",
      "minLength": 1
    },
    "langfuse_sync_keycloak_client_secret": {
      "type": "string",
      "minLength": 1
    },
    "langfuse_role_mapping": {
      "type": "object",
      "additionalProperties": {
        "type": "string",
        "enum": [
          "OWNER",
          "ADMIN",
          "MEMBER",
          "VIEWER",
          "NONE"
        ]
      },
      "description": "Keycloak role \u2192 Langfuse role mapping"
    },
    "obot_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Obot MCP Gateway - AI Agent Platform with MCP Server Hosting REF: https://github.com/jrmatherly/obot-entraid REF: docs/research/obot-mcp-gateway-integration-jan-2026.md Provides AI agents with MCP (Model Context Protocol) server orchestration Uses custom fork with Keycloak authentication provider"
    },
    "obot_subdomain": {
      "default": "obot",
      "type": "string",
      "minLength": 1
    },
    "obot_version": {
      "default": "0.2.30",
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
    },
    "obot_replicas": {
      "default": 1,
      "type": "integer",
      "minimum": 1,
      "maximum": 10
    },
    "obot_db_password": {
      "type": "string",
      "minLength": 1,
      "description": "Obot PostgreSQL Database (CloudNativePG with pgvector) Requires cnpg_enabled: true and cnpg_pgvector_enabled: true"
    },
    "obot_postgres_user": {
      "default": "obot",
      "type": "string",
      "minLength": 1
    },
    "obot_postgres_db": {
      "default": "obot",
      "type": "string",
      "minLength": 1
    },
    "obot_postgresql_replicas": {
      "default": 1,
      "type": "integer",
      "minimum": 1,
      "maximum": 5
    },
    "obot_postgresql_storage_size": {
      "default": "10Gi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "obot_storage_size": {
      "default": "20Gi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "obot_encryption_key": {
      "type": "string",
      "pattern": "^[A-Za-z0-9+/]{43}=$",
      "description": "Obot Encryption Key for data at rest (base64-encoded 32 bytes) Generate with: openssl rand -base64 32"
    },
    "obot_bootstrap_token": {
      "type": "string",
      "minLength": 1,
      "description": "Obot Bootstrap Token for initial platform setup Generate with: openssl rand -hex 32"
    },
    "obot_keycloak_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Obot Keycloak SSO (requires keycloak_enabled: true) Uses custom auth provider from jrmatherly/obot-entraid fork"
    },
    "obot_keycloak_client_id": {
      "default": "obot",
      "type": "string",
      "minLength": 1
    },
    "obot_keycloak_client_secret": {
      "type": "string",
      "minLength": 1
    },
    "obot_keycloak_cookie_secret": {
      "type": "string",
      "pattern": ".{32,}"
    },
    "obot_keycloak_allowed_groups": {
      "type": "string"
    },
    "obot_keycloak_allowed_roles": {
      "type": "string"
    },
    "obot_mcp_namespace": {
      "default": "obot-mcp",
      "type": "string",
      "minLength": 1,
      "description": "Obot MCP Namespace Resource Quotas"
    },
    "obot_mcp_cpu_requests_quota": {
      "default": 4,
      "type": "string",
      "pattern": "^[0-9]+$"
    },
    "obot_mcp_cpu_limits_quota": {
      "default": 8,
      "type": "string",
      "pattern": "^[0-9]+$"
    },
    "obot_mcp_memory_requests_quota": {
      "default": "8Gi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "obot_mcp_memory_limits_quota": {
      "default": "16Gi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "obot_mcp_max_pods": {
      "default": 20,
      "type": "string",
      "pattern": "^[0-9]+$"
    },
    "obot_mcp_default_cpu_request": {
      "default": "100m",
      "type": "string",
      "pattern": "^[0-9]+m?$"
    },
    "obot_mcp_default_cpu_limit": {
      "default": "500m",
      "type": "string",
      "pattern": "^[0-9]+m?$"
    },
    "obot_mcp_default_memory_request": {
      "default": "256Mi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "obot_mcp_default_memory_limit": {
      "default": "512Mi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "obot_mcp_max_cpu": {
      "default": "1000m",
      "type": "string",
      "pattern": "^[0-9]+m?$"
    },
    "obot_mcp_max_memory": {
      "default": "1Gi",
      "type": "string",
      "pattern": "^[0-9]+[KMGT]i$"
    },
    "obot_s3_access_key": {
      "type": "string",
      "minLength": 1,
      "description": "Obot PostgreSQL Backups (requires rustfs_enabled: true) Credentials must be created via RustFS Console UI"
    },
    "obot_s3_secret_key": {
      "type": "string",
      "minLength": 1
    },
    "obot_monitoring_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Obot Observability (requires monitoring_enabled and/or tracing_enabled)"
    },
    "obot_tracing_enabled": {
      "default": false,
      "type": "boolean"
    },
    "obot_litellm_enabled": {
      "default": false,
      "type": "boolean",
      "description": "Obot LiteLLM Integration (uses internal LiteLLM as model gateway)"
    }
  },
  "required": [
    "node_cidr",
    "cluster_pod_cidr",
    "cluster_svc_cidr",
    "cluster_api_addr",
    "cluster_gateway_addr",
    "repository_name",
    "cloudflare_domain",
    "cloudflare_token",
    "cloudflare_gateway_addr"
  ]
}
